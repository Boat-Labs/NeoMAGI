# M7 Phase 4 Review

- Milestone: `M7`
- Phase: `4`
- Gate: `G-M7-P4`
- Target commit: `a1e5119`
- Reviewer role: `tester`
- Review date: `2026-03-01`
- Result: `FAIL`

## Scope

本轮尝试在真实 Claude Code teammate cutover 路径下验证幂等护栏，但发生了执行路径漂移，需要判断该 drill 是否还能作为有效证据。

## Evidence

- Live projection:
  - `dev_docs/logs/m7_2026-03-01/gate_state.md`
  - `dev_docs/logs/m7_2026-03-01/watchdog_status.md`
  - `dev_docs/logs/m7_2026-03-01/heartbeat_events.jsonl`
- 污染事件序列：
  - `event_seq=51` `PHASE_COMPLETE`
  - `event_seq=52` duplicate `PHASE_COMPLETE`
  - `event_seq=54` `RECOVERY_CHECK`
  - `event_seq=55` duplicate `RECOVERY_CHECK`
- Operational evidence:
  - teammate CLI 在 prompt 已给出主工作区脚本绝对路径的情况下，仍实际调用了各自 worktree 内的旧版 `scripts/devcoord/coord.py`

## Findings

- 该 drill 的重复事件不是 committed 主线补丁的行为，而是旧 worktree 脚本被误调用后留下的污染写入。
- 因为实际执行路径偏离了受测对象，`G-M7-P4` 不能作为幂等护栏通过的有效证据。
- 这次失败暴露的是 cutover 运行控制问题：即使 skill 已命中，Claude Code CLI 仍可能在命令形状不够强约束时偏向错误脚本路径。

## Conclusion

`G-M7-P4` 应按 `FAIL` 关闭，并明确标记为一次被 CLI command drift 污染的无效 drill。幂等护栏的有效 live 结论以后续 clean worktree 的 `G-M7-P5` 为准。
