# M5 Architecture（计划）

> 状态：planned（触发式进入）  
> 对应里程碑：M5 运营可靠性  
> 依据：`design_docs/roadmap_milestones_v3.md`、M1.4 已完成测试与 CI 基线

## 1. 目标
- 在个人使用规模下补齐最小运营可靠性能力：可观测、可恢复、可维护。

## 2. 当前基线（输入）
- M1.4 已建立测试基线与 CI 流水线。
- 结构化日志、统一错误语义、健康检查接口已具备。

实现参考：
- `.github/workflows/ci.yml`
- `src/infra/logging.py`
- `src/gateway/app.py` (`/health`)

## 3. 目标架构（高层）
- 保持“轻运维”策略：只建设最小必要能力，不引入企业级复杂平台。
- 形成最小可观测、最小恢复路径和最小数据保护机制。
- 运维增强与业务主链路解耦，避免影响核心交互迭代速度。

## 4. 边界
- In:
  - 最小可观测。
  - 异常后可恢复。
  - 关键数据有基本保护与恢复路径。
- Out:
  - 不做重型监控平台或复杂 SRE 体系。

## 5. 验收对齐（来自 roadmap）
- 异常发生后，可在可接受时间内恢复核心服务。
- 关键数据具备基本恢复手段。
